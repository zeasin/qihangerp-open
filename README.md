# å¯èˆªç”µå•†ERPç³»ç»Ÿ2.0ç‰ˆ
> **æ¬¢è¿æ¥åˆ°æˆ‘ä»¬çš„å¼€æºé¡¹ç›®ï¼åˆ›æ–°ã€åä½œã€é«˜è´¨é‡çš„ä»£ç ã€‚æ‚¨çš„StarğŸŒŸï¼Œæ˜¯æˆ‘ä»¬å‰è¿›çš„åŠ¨åŠ›ï¼ ğŸ’ªâœ¨ğŸ†**

> **é¡¹ç›®æŒç»­æ›´æ–°ä¸­ï¼Œè¿˜æœ‰å¾ˆå¤šä¸è¶³ï¼Œè¯·å¤šåŒ…å«ï¼å¦‚æœ‰ä»»ä½•ç–‘é—®è¯·æäº¤issuseï¼è°¢è°¢ï¼ ğŸ’ªâœ¨ğŸ†**

## ä¸€ã€ç³»ç»Ÿä»‹ç»
å¯èˆªç”µå•†ERPç³»ç»Ÿ2.0ç‰ˆæœ¬æ˜¯ä¸€ä¸ªå®Œæ•´å¼€ç®±å³ç”¨çš„å¼€æºç”µå•†ERPç³»ç»Ÿï¼Œç»å†1.0ç‰ˆæœ¬çš„è¿­ä»£ä¼˜åŒ–å’Œå®¢æˆ·ä½¿ç”¨éªŒè¯ã€‚å¼€å‘è€…å¯ä»¥ç›´æ¥éƒ¨ç½²å³å¯ä½¿ç”¨ã€‚

å¯èˆªç”µå•†ERPç³»ç»Ÿæ˜¯ä¸€ä¸ªä¸“æ³¨æ ¸å¿ƒè®¢å•å¤„ç†ä¸šåŠ¡ï¼Œä¸»ä½“åŠŸèƒ½åŒ…æ‹¬ï¼šå•†å“ç®¡ç†ã€åº—é“ºå•†å“ç®¡ç†ã€è®¢å•åº“ã€åº—é“ºè®¢å•ç®¡ç†ã€å‘è´§ç®¡ç†ï¼ˆæ”¯æŒå¤šä¾›åº”å•†å‘è´§ï¼‰ã€å”®åç®¡ç†ã€åº“å­˜ç®¡ç†ç­‰ã€‚

ä¸æ­¤åŒæ—¶è¯¥ç³»ç»Ÿä¼šé™†ç»­å¢åŠ ä¾›å¤–éƒ¨è°ƒç”¨çš„APIï¼Œä»¥ä¾¿å¼€å‘è€…æ»¡è¶³è‡ªå·±çš„ä¸ªæ€§åŒ–ä¸šåŠ¡éœ€æ±‚ã€‚

å¯èˆªç”µå•†ERPç³»ç»Ÿæ”¯æŒï¼šæ·˜å®å¤©çŒ«ã€äº¬ä¸œã€æ‹¼å¤šå¤šã€æŠ–åº—ã€å¾®ä¿¡å°åº—ç­‰å¹³å°ï¼Œåç»­å°†ç»§ç»­å¯¹æ¥å…¶ä»–ç”µå•†å¹³å°ã€‚

![](docs/preview.png)

## äºŒã€ç³»ç»Ÿç‰¹ç‚¹
+ 1ã€å¯èˆªç”µå•†ERPç³»ç»Ÿæ˜¯ä¸€ä¸ªä¸“æ³¨æ ¸å¿ƒä¸šåŠ¡å¤„ç†å¹¶ä¸”åˆèƒ½å¿«é€Ÿæ–¹ä¾¿æ‰©å±•ä¸ªæ€§åŒ–éœ€æ±‚çš„ä¸€ä¸ªåº•åº§ã€‚

+ 2ã€å¯èˆªç”µå•†ERP2.0ç‰ˆæœ¬æ˜¯ä¸€ä¸ªéƒ¨ç½²å³å¯ä½¿ç”¨çš„å¼€æºç”µå•†ERPç³»ç»Ÿã€‚

+ 3ã€è¯¥ç³»ç»Ÿé€‚åˆæƒ³è‡ªç ”ç”µå•†ç³»ç»Ÿçš„ä¼ä¸šå¿«é€Ÿæ„å»ºä¸šåŠ¡ã€‚**ç³»ç»Ÿå¹¶ä¸é€‚åˆå°å–å®¶ï¼Œå°å–å®¶è¿˜æ˜¯è€è€å®å®ä½¿ç”¨å¸‚é¢ä¸Šæµè¡Œçš„SAASå§ã€‚**

+ 4ã€ä½¿ç”¨å¯èˆªç”µå•†ERPç³»ç»Ÿçš„å‰ç½®æ¡ä»¶æ˜¯ï¼š**è‡ªè¡Œç”³è¯·å„ç”µå•†å¼€æ”¾å¹³å°çš„AppKey** [å¼€æ”¾å¹³å°ç”³è¯·è¯´æ˜](https://mp.weixin.qq.com/s/KqyNlIVl43dTWicaAeLR1g)


## ä¸‰ã€åŠŸèƒ½æ¨¡å—
#### 1ã€å•†å“ç®¡ç†
+ å•†å“åº“ç®¡ç†ï¼šç®¡ç†å•†å“åº“å•†å“ï¼Œæä¾›æ‰‹åŠ¨å½•å…¥ã€APIæ¥æ”¶åŠŸèƒ½ï¼Œå¯ä»¥è®¾ç½®è‡ªå·±å‘è´§è¿˜æ˜¯ä¾›åº”å•†å‘è´§ï¼ˆå½±å“åˆ°åå°åˆ†å•é€»è¾‘ï¼Œå³æ—¶ç”Ÿæ•ˆï¼‰ã€‚
+ å•†å“åº“SKUæ˜ç»†ï¼šæŸ¥çœ‹æ‰€æœ‰å•†å“åº“SKU
+ åº—é“ºå•†å“ç®¡ç†ï¼šåº—é“ºå•†å“ç®¡ç†ï¼Œåº—é“ºå•†å“APIæ‹‰å–ã€åº—é“ºå•†å“APIæ›´æ–°ï¼ˆè¿›è¡Œåº—é“ºå•†å“ä¸å•†å“åº“å•†å“å…³è”ï¼Œæ ¹æ®SKUç¼–ç å…³è”ï¼‰ã€‚
+ å•†å“åˆ†ç±»ç®¡ç†
+ å•†å“å“ç‰Œç®¡ç†
+ ä¾›åº”å•†ç®¡ç†

#### 2ã€è®¢å•ç®¡ç†
+ è®¢å•åº“ï¼šèšåˆè®¢å•æŸ¥è¯¢ã€è¯¦æƒ…ã€ç®¡ç†ã€‚
+ è®¢å•æ˜ç»†ï¼šèšåˆè®¢å•æ˜ç»†æŸ¥è¯¢ã€‚
+ åº—é“ºè®¢å•ç®¡ç†ï¼šè®¢å•APIæ‹‰å–ã€è®¢å•APIæ›´æ–°ã€è®¢å•æ‰‹åŠ¨æ¨é€ç­‰ï¼Œæ”¯æŒæ·˜å®å¤©çŒ«ã€äº¬ä¸œã€æ‹¼å¤šå¤šã€æŠ–åº—ã€å¾®ä¿¡è§†é¢‘å·ã€‚


#### 3ã€å‘è´§ç®¡ç†
+ å¾…å‘è´§æ¸…å•ï¼šï¼ˆå•†å“ç»´åº¦ã€è®¢å•ç»´åº¦ï¼‰ï¼Œå±•ç¤ºå¾…åˆ†é…å‘è´§çš„æ¸…å•ï¼ˆç³»ç»Ÿä¼šæ ¹æ®å•†å“è®¾ç½®çš„è‡ªå·±å‘è´§è¿˜æ˜¯ä¾›åº”å•†å‘è´§è‡ªåŠ¨åˆ†é…åˆ°å‘è´§è®¢å•åº“ï¼‰
+ å–å·å‘è´§ï¼šç”µå­é¢å•å–å·å‘è´§
+ è®¢å•æ‰“å°ï¼šç”µå­é¢å•æ‰“å°ï¼Œæ”¯æŒæ·˜å®å¤©çŒ«ã€äº¬ä¸œã€æ‹¼å¤šå¤šã€æŠ–åº—ã€å¾®ä¿¡è§†é¢‘å·ã€‚
+ å¤‡è´§å‡ºåº“ï¼šç”µå­é¢å•å–å·ä¹‹åä¼šåŠ å…¥å¤‡è´§æ¸…å•ï¼Œæä¾›ç»™ä»“åº“å¤‡è´§æŸ¥è¯¢ã€‚å‘è´§ä¹‹åä¼šä»å¤‡è´§æ¸…å•ä¸­ç§»é™¤ã€‚
+ å‘è´§è®°å½•ï¼šå‘è´§è®°å½•ï¼Œæä¾›æ‰‹åŠ¨å‘è´§åŠŸèƒ½ã€‚
+ ç‰©æµè·Ÿè¸ªï¼šæä¾›å‘è´§ç‰©æµæŸ¥è¯¢ã€‚
+ å¿«é€’å¿«é€’ç®¡ç†ï¼šç®¡ç†å‘è´§çš„å¿«é€’å…¬å¸ï¼ˆæ”¯æŒä»å¹³å°æ‹‰å–ã€æ”¯æŒçº¿ä¸‹æ¸ é“æ‰‹åŠ¨æ·»åŠ å‘è´§å¿«é€’ï¼‰ã€‚
+ é¢å•è´¦æˆ·ç®¡ç†ï¼šç®¡ç†åº—é“ºå¼€é€šçš„ç”µå­é¢å•è´¦æˆ·

#### 4ã€å”®åç®¡ç†
+ å”®åä¸­æ–°ï¼šèšåˆå”®åæŸ¥è¯¢ã€è¯¦æƒ…ã€ç®¡ç†ã€‚
+ åº—é“ºå”®åç®¡ç†ï¼šå”®åAPIæ‹‰å–ã€å”®åAPIæ›´æ–°ã€æ‰‹åŠ¨æ¨é€ã€å”®åæ“ä½œï¼ˆåŒæ„ã€å¤‡æ³¨ï¼‰ã€‚
+ å”®åå¤„ç†è®°å½•ï¼šå”®åå¤„ç†çš„è®°å½•æŸ¥è¯¢ï¼Œæä¾›æ‰‹åŠ¨å”®åå¤„ç†åŠŸèƒ½ã€‚


#### 5ã€åº“å­˜ç®¡ç†
+ å•†å“åº“å­˜ç®¡ç†ï¼šæŸ¥è¯¢åº“å­˜
+ å•†å“å…¥åº“ç®¡ç†ï¼šæ”¯æŒæ‰‹åŠ¨å…¥åº“
+ å•†å“å‡ºåº“ç®¡ç†ï¼šæ”¯æŒæ‰‹åŠ¨å‡ºåº“
+ ä»“åº“ä»“ä½è®¾ç½®

#### 6ã€åº—é“º&å¹³å°è®¾ç½®
+ åº—é“ºç®¡ç†
+ å¹³å°è®¾ç½®
+ è®¢å•æ›´æ–°æ—¥å¿—ï¼šæŸ¥è¯¢æ›´æ–°æ—¥å¿—ï¼Œä¸»åŠ¨æ’é”™ã€‚
+ å”®åæ›´æ–°æ—¥å¿—ï¼šæŸ¥è¯¢æ›´æ–°æ—¥å¿—ï¼Œä¸»åŠ¨æ’é”™ã€‚
+ å®šæ—¶ä»»åŠ¡é…ç½®



## å››ã€ä¸»è¦æµç¨‹
**å¯èˆªç”µå•†ERPå¯ä»¥è¯´æ˜¯æˆ‘å¤šå¹´ç”µå•†è¡Œä¸šä»ä¸šç»éªŒç§¯ç´¯çš„æˆæœã€‚**

[å¬æˆ‘å¹ç‰›è¯·çœ‹](https://mp.weixin.qq.com/s/nPapuoQePVHHFm1hoJjSuw)



### 1 å‘è´§æµç¨‹


**è®¢å•å‘è´§æµç¨‹**
```mermaid
graph TD
A[ç½‘åº—æ‹‰å–è®¢å•] -->B(å®¡æ ¸è®¢å•)
    B --> C[è®¢å•åº“]
    C --> C1[å¤‡è´§æ¸…å•ä¸­å±•ç¤ºéœ€è¦å‘è´§çš„è®¢å•]
    C1 --> D[ä»“åº“å‘è´§-ç”Ÿæˆå‡ºåº“å•]
    C1 --> E[åˆ†é…ä¾›åº”å•†å‘è´§]
    D --> F(æ‹£è´§å‡ºåº“)
    F --> F1[å‡ºåº“]
    E --> H(æ‰“åŒ…å‘è´§-è®°å½•åŒ…è£¹ä¿¡æ¯)
    F1 --> H
    H --> G(æ¨é€å‘è´§ä¿¡æ¯-è®°å½•åŒ…è£¹ä¿¡æ¯-ç”Ÿæˆå‘è´§è´¹ç”¨-ç‰©æµè´¹å’Œä»£å‘è´¹)
    G --> I(å®Œæˆ)
```

**ä»“åº“å‘è´§æµç¨‹**
```mermaid
graph TD
A[æŸ¥è¯¢å¤‡è´§æ¸…å•] -->B(ç”Ÿæˆæ‹£è´§å•)
    B --> C[æ‹£è´§å‡ºåº“]
    C --> E(å‡åº“å­˜)
    E --> F[æ‰“åŒ…å‘è´§]
    F --> F1(è®°å½•åŒ…è£¹ä¿¡æ¯)
    F1 --> G(å¡«å†™ç‰©æµä¿¡æ¯)
    G --> G1[åŒæ­¥å‘è´§çŠ¶æ€]
    G1 --> H(å®Œæˆ)
    G --> G2[ç”Ÿæˆç‰©æµè´¹ç”¨è´¦å•]
    G2 --> H

```

### 2 å”®åå¤„ç†æµç¨‹

**é€€è´§é€€æ¬¾æµç¨‹**
```mermaid
graph LR
A[å½•å…¥é€€æ¬¾é€€è´§] -->B(ä»…é€€æ¬¾)
    B --> H(å®Œæˆ)
    A --> D(é€€è´§é€€æ¬¾)
    D --> E[ä»“åº“æ”¶è´§]
    E --> F[é€€è´§å…¥åº“å¤„ç†]
    F --> H
```

**å”®åæµç¨‹**
```mermaid
graph LR
A[å½•å…¥å”®å] -->B(è¡¥å‘å•†å“)
    B --> H[ä»“åº“å‡ºåº“-è®°å½•]
    A --> D(æ¢è´§)
    D --> E[ä»“åº“æ”¶è´§-å…¥åº“]
    E --> H
    H --> F(å®Œæˆ)
```


**è®¢å•æ‹¦æˆª**
```mermaid
graph LR
A[å½•å…¥æ‹¦æˆª] -->B(é€šçŸ¥ä»“åº“)
    B --> H1[æœªå‘è´§-ç›´æ¥å…¥åº“]
    B --> D(å·²å‘è´§)
    D --> E[é€šçŸ¥æ¶ˆè´¹è€…æ‹’æ”¶]
    E --> H[æ¶ˆè´¹è€…æ‹’æ”¶]
    H --> C[é€€å›å…¥åº“]
    C --> F(é€€æ¬¾ç»™æ¶ˆè´¹è€…)
    F --> G[å®Œæˆ]
    H1 --> G
```



## äº”ã€éƒ¨ç½²è¯´æ˜

#### 0 ç‰ˆæœ¬è¯´æ˜
+ Javaï¼š17
+ Nodejsï¼šv16
+ SpringBoot:3
+ MySQL:8
+ Redis:7

#### 1 é…ç½®MySQL

+ åˆ›å»ºæ•°æ®åº“`qihang-oms`
+ å¯¼å…¥æ•°æ®åº“ç»“æ„ï¼šsqlè„šæœ¬`docs\qihang-oms.sql`
+ å¯¼å…¥åˆå§‹åŒ–æ•°æ®ï¼šsqlè„šæœ¬`docs\qihang-oms-data.sql`


#### 2 å¯åŠ¨Redis
é¡¹ç›®å¼€å‘é‡‡ç”¨Redis7

#### 3 ä¿®æ”¹é¡¹ç›®é…ç½®

+ ä¿®æ”¹`app`é¡¹ç›®ä¸­çš„é…ç½®æ–‡ä»¶`application.yml`é…ç½®`Mysql`ç›¸å…³é…ç½®ã€‚


#### 4 mvnæ‰“åŒ…éƒ¨ç½²
+ Javaç‰ˆæœ¬ï¼š`Java 17`
+ Mavenç‰ˆæœ¬ï¼š`3.8`
  `mvn clean package`


#### 5 å‰ç«¯ `vue`æ‰“åŒ…
+ nodejsç‰ˆæœ¬è¦æ±‚ï¼š`v16.x`
+ å®‰è£…ä¾èµ–ï¼š`npm install --registry=https://registry.npmmirror.com`
+ æ‰“åŒ…`npm run build:prod`

#### 6 ä¿®æ”¹Nginxé…ç½®

```
# å‰ç«¯webé…ç½®
location / {
        #root   /opt/qihangerp/nginx/dist;
        root /usr/share/nginx/html;
        index  index.html index.htm;
        try_files $uri $uri/ /index.html;
    }
# å¢åŠ åå°apiè½¬å‘
=======
##### ä¿®æ”¹Nginxé…ç½®ï¼ˆå¢åŠ vue404ã€å¢åŠ åå°apiè½¬å‘ï¼‰

location /prod-api/ {
    proxy_set_header Host $http_host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header REMOTE-HOST $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_pass http://localhost:8088/;
}
```
#### 7 è®¿é—®web
+ è®¿é—®åœ°å€ï¼š`http://localhost`
+ ç™»å½•åï¼š`admin`
+ ç™»å½•å¯†ç ï¼š`admin123`



## å…­ã€æ”¯æŒä¸€ä¸‹

**æ„Ÿè°¢å¤§å®¶çš„å…³æ³¨ä¸æ”¯æŒï¼å¸Œæœ›åˆ©ç”¨æœ¬äººä»äº‹ç”µå•†10ä½™å¹´çš„ç»éªŒå¸®åŠ©åˆ°å¤§å®¶æå‡å·¥ä½œæ•ˆç‡ï¼**

### 6.1 èµ äººç«ç‘°æ‰‹ç•™ä½™é¦™
ğŸ’– å¦‚æœè§‰å¾—æœ‰ç”¨è®°å¾—ç‚¹ä¸ª Starâ­

<img src="docs/star.jpg" width="300px" />

### 6.2 ä¸€èµ·äº¤æµ

ğŸ’– æ¬¢è¿ä¸€èµ·äº¤æµï¼

+ å¾®ä¿¡å…¬ä¼—å·

   <img src="docs/å¾®ä¿¡å…¬ä¼—å·.jpg" width="300px" />


### 6.3 æåŠ©ä½œè€…
ä½œè€…ä¸ºå…¼èŒåšå¼€æº,å¹³æ—¶è¿˜éœ€è¦å·¥ä½œ,å¦‚æœå¸®åˆ°äº†æ‚¨å¯ä»¥è¯·ä½œè€…åƒä¸ªç›’é¥­

<img src="docs/å¾®ä¿¡æ”¶æ¬¾ç .jpg" width="300px" />
<img src="docs/æ”¯ä»˜å®æ”¶æ¬¾ç .jpg" width="300px" />

### 6.4 è·å–æˆæƒä¸æœåŠ¡

[å¦‚ä½•è·å–æˆæƒä¸æœåŠ¡](https://mp.weixin.qq.com/s/mATn2nfc5bUePohS_s2WGw)

